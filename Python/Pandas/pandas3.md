# 연산  
일반적으로 연산에서 결측데이터는 제외한다.  

`DataFrame.mean()`을 사용해서 각 열의 평균을 계산할 수 있다.
```python
df.mean()
```
```
A   -0.004474
B   -0.383981
C   -0.687758
D    5.000000
F    3.000000
dtype: float64
```
각 행에 대해서는 `axis=1`을 추가하면 된다.
```python
df.mean(axis=1)
```
```
2013-01-01    0.872735
2013-01-02    1.431621
2013-01-03    0.707731
2013-01-04    1.395042
2013-01-05    1.883656
2013-01-06    1.592306
Freq: D, dtype: float64
```

# Merge
## Concat
행 방향으로 판다스 객체들을 연결하기 위해서 `concat()`을 사용할 수 있다.
```python
df = pd.DataFrame(np.random.randn(10, 4))
df
```
```
          0         1         2         3
0 -0.548702  1.467327 -1.015962 -0.483075
1  1.637550 -1.217659 -0.291519 -1.745505
2 -0.263952  0.991460 -0.919069  0.266046
3 -0.709661  1.669052  1.037882 -1.705775
4 -0.919854 -0.042379  1.247642 -0.009920
5  0.290213  0.495767  0.362949  1.548106
6 -1.131345 -0.089329  0.337863 -0.945867
7 -0.932132  1.956030  0.017587 -0.016692
8 -0.575247  0.254161 -1.143704  0.215897
9  1.193555 -0.077118 -0.408530 -0.862495
```
```python
pieces = [df[:3], df[3:7], df[7:]]
pd.concat(pieces)
```
```
          0         1         2         3
0 -0.548702  1.467327 -1.015962 -0.483075
1  1.637550 -1.217659 -0.291519 -1.745505
2 -0.263952  0.991460 -0.919069  0.266046
3 -0.709661  1.669052  1.037882 -1.705775
4 -0.919854 -0.042379  1.247642 -0.009920
5  0.290213  0.495767  0.362949  1.548106
6 -1.131345 -0.089329  0.337863 -0.945867
7 -0.932132  1.956030  0.017587 -0.016692
8 -0.575247  0.254161 -1.143704  0.215897
9  1.193555 -0.077118 -0.408530 -0.862495
```

## Join
`merge()`는 특정 열에 대해 SQL스타일의 join을 가능하게 한다.
```python
left = pd.DataFrame({"key": ["foo", "foo"], "lval": [1, 2]})

right = pd.DataFrame({"key": ["foo", "foo"], "rval": [4, 5]})

left
```
```
   key  lval
0  foo     1
1  foo     2
```
```python
right
```
```
   key  rval
0  foo     4
1  foo     5
```
```python
pd.merge(left, right, on="key")
```
```
   key  lval  rval
0  foo     1     4
1  foo     1     5
2  foo     2     4
3  foo     2     5
```

# Grouping
groupby는 다음 과정의 하나 이상을 포함하는 처리를 말한다.
* 데이터를 어떤 평가기준에 따라 여러 그룹으로 **분리한다**.
* 각각의 그룹에 독립적으로 함수를 **적용한다**.
* 데이터 구조로 결과들을 **결합한다**.  

```python
df = pd.DataFrame(
    {
        "A": ["foo", "bar", "foo", "bar", "foo", "bar", "foo", "foo"],
        "B": ["one", "one", "two", "three", "two", "two", "one", "three"],
        "C": np.random.randn(8),
        "D": np.random.randn(8),
    }
)

df
```
```
     A      B         C         D
0  foo    one  1.346061 -1.577585
1  bar    one  1.511763  0.396823
2  foo    two  1.627081 -0.105381
3  bar  three -0.990582 -0.532532
4  foo    two -0.441652  1.453749
5  bar    two  1.211526  1.208843
6  foo    one  0.268520 -0.080952
7  foo  three  0.024580 -0.264610
```
열 레이블로 그룹핑을 하고, 열 레이블들을 선택하고, `sum()`함수를 그룹들에 적용한다.
```python
df.groupby("A")[["C", "D"]].sum()
```
```
            C         D
A                      
bar  1.732707  1.073134
foo  2.824590 -0.574779
```